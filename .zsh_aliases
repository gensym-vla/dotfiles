#!/bin/sh
#-*- sh -*-

# start emacs from the console
# if an emacs daemon is running, run emacs as emacsclient
# this is not really an alias but still useful
function em {
    if [ -z "$(emacsclient --eval '(daemonp)' 2>/dev/null)" ]
    then
        emacs -nw $@
    else
        emacsclient -nw $@
    fi
}

function toggle_emd {
    local EVALEXIT="(progn (setq kill-emacs-hook 'nil) (kill-emacs))"
    if [ -z "$(emacsclient --eval '(daemonp)' 2>/dev/null)" ]
    then
        emacs --daemon
    else
        emacsclient --eval "$EVALEXIT"
    fi
}

function lxcomp {
    echo $1 $2
    scp $@ $lxmayr:~/bench/
    ssh -X $lxmayr "cd bench && make ${1%*.cpp} && ./${1%*.cpp} $2"
}
# foregrounds vim if it is suspended, calls vim if it isn't
function vi {
    if [ -z "$(jobs | grep vim 2> /dev/null)" ]
    then
        vim $@
    else
        fg %vim $@
    fi
}

# this is useful while searching for libraries uses
alias searchlib="find /lib /lib64 -name '$1' 2> /dev/null"
# cypress touchpads suck *real* hard
alias __p="xclip -out"
alias vi="vim"
#other stuff
alias vc="sudo vpnc"
alias l="ls -lha"
